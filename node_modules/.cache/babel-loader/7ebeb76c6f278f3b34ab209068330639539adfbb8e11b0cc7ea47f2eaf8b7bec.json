{"ast":null,"code":"var _jsxFileName = \"E:\\\\projects\\\\react_project\\\\react-pro\\\\src\\\\context\\\\DataContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect, Children } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DataContext = /*#__PURE__*/createContext({});\nexport const DataProvider = () => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [searchResults, setSearchResults] = useState([]);\n  const [search, setSearch] = useState('');\n  const [postTitle, setPostTitle] = useState('');\n  const [postBody, setPostBody] = useState('');\n  const [editTitle, setEditTitle] = useState('');\n  const [editBody, setEditBody] = useState('');\n  const navigate = useNavigate();\n  const {\n    width\n  } = useWindowSize();\n  const {\n    data,\n    fetchError,\n    isLoading\n  } = useAxiosFetch('http://localhost:3600/posts');\n  useEffect(() => {\n    setPosts(data);\n  }, [data]);\n  useEffect(() => {\n    const filteredPosts = posts.filter(post => post.title.toLowerCase().includes(search.toLowerCase()) || post.body.toLowerCase().includes(search.toLowerCase()));\n    setSearchResults(filteredPosts);\n  }, [posts, search]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const id = posts.length ? posts[posts.length - 1].id + 1 : 1;\n    const datetime = format(new Date(), 'MMMM dd, yyyy pp');\n    const newPost = {\n      id,\n      title: postTitle,\n      datetime,\n      body: postBody\n    };\n    try {\n      const response = await api.post('/posts', newPost);\n      const allPosts = [...posts, response.data];\n      setPosts(allPosts);\n      setSearchResults(allPosts); // Update search results\n      setPostTitle('');\n      setPostBody('');\n      navigate('/');\n    } catch (err) {\n      if (err.response) {\n        console.log(err.response.data);\n        console.log(err.response.status);\n        console.log(err.response.headers);\n      } else {\n        console.log(`Error: ${err.message}`);\n      }\n    }\n  };\n  const handleEdit = async id => {\n    const datetime = format(new Date(), 'MMMM dd, yyyy pp');\n    const updatedPost = {\n      id,\n      title: editTitle,\n      datetime,\n      body: editBody\n    };\n    try {\n      const response = await api.put(`/posts/${id}`, updatedPost);\n      setPosts(posts.map(post => post.id === id ? {\n        ...response.data\n      } : post));\n      setEditTitle('');\n      setEditBody('');\n      navigate('/');\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n  };\n  const handleDelete = async id => {\n    try {\n      await api.delete(`/posts/${id}`);\n      const postList = posts.filter(post => post.id !== id);\n      setPosts(postList);\n      navigate('/');\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      width,\n      search,\n      setSearch,\n      set\n    },\n    children: Children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n};\n_s(DataProvider, \"vPqUyrjkDGWfXHCLseD9bIoo3XA=\", true);\n_c = DataProvider;\nexport default DataContext;\nvar _c;\n$RefreshReg$(_c, \"DataProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","Children","jsxDEV","_jsxDEV","DataContext","DataProvider","_s","posts","setPosts","searchResults","setSearchResults","search","setSearch","postTitle","setPostTitle","postBody","setPostBody","editTitle","setEditTitle","editBody","setEditBody","navigate","useNavigate","width","useWindowSize","data","fetchError","isLoading","useAxiosFetch","filteredPosts","filter","post","title","toLowerCase","includes","body","handleSubmit","e","preventDefault","id","length","datetime","format","Date","newPost","response","api","allPosts","err","console","log","status","headers","message","handleEdit","updatedPost","put","map","handleDelete","delete","postList","Provider","value","set","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/projects/react_project/react-pro/src/context/DataContext.js"],"sourcesContent":["import { createContext,useState,useEffect, Children } from \"react\";\r\n\r\nconst DataContext = createContext({})\r\n\r\nexport const DataProvider = () => {\r\n\r\n    const [posts, setPosts] = useState([]);\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [search, setSearch] = useState('');\r\n    const [postTitle, setPostTitle] = useState('');\r\n    const [postBody, setPostBody] = useState('');\r\n    const [editTitle, setEditTitle] = useState('');\r\n    const [editBody, setEditBody] = useState('');\r\n    const navigate = useNavigate();\r\n    const {width}=useWindowSize()\r\n    const {data,fetchError,isLoading} = useAxiosFetch('http://localhost:3600/posts')\r\n  \r\n    useEffect(() =>{\r\n      setPosts(data);\r\n    },[data]);\r\n  \r\n    useEffect(() => {\r\n      const filteredPosts = posts.filter(post =>\r\n        post.title.toLowerCase().includes(search.toLowerCase()) ||\r\n        post.body.toLowerCase().includes(search.toLowerCase())\r\n      );\r\n      setSearchResults(filteredPosts);\r\n    }, [posts, search]);\r\n  \r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      const id = posts.length ? posts[posts.length - 1].id + 1 : 1;\r\n      const datetime = format(new Date(), 'MMMM dd, yyyy pp');\r\n      const newPost = { id, title: postTitle, datetime, body: postBody };\r\n      try {\r\n        const response = await api.post('/posts', newPost);\r\n        const allPosts = [...posts, response.data];\r\n        setPosts(allPosts);\r\n        setSearchResults(allPosts); // Update search results\r\n        setPostTitle('');\r\n        setPostBody('');\r\n        navigate('/');\r\n      } catch (err) {\r\n        if (err.response) {\r\n          console.log(err.response.data);\r\n          console.log(err.response.status);\r\n          console.log(err.response.headers);\r\n        } else {\r\n          console.log(`Error: ${err.message}`);\r\n        }\r\n      }\r\n    };\r\n  \r\n    const handleEdit = async (id) => {\r\n      const datetime = format(new Date(), 'MMMM dd, yyyy pp');\r\n      const updatedPost = { id, title: editTitle, datetime, body: editBody };\r\n      try {\r\n        const response = await api.put(`/posts/${id}`, updatedPost);\r\n        setPosts(posts.map(post => post.id === id ? { ...response.data } : post));\r\n        setEditTitle('');\r\n        setEditBody('');\r\n        navigate('/');\r\n      } catch (err) {\r\n        console.log(`Error: ${err.message}`);\r\n      }\r\n    };\r\n  \r\n    const handleDelete = async (id) => {\r\n      try {\r\n        await api.delete(`/posts/${id}`);\r\n        const postList = posts.filter(post => post.id !== id);\r\n        setPosts(postList);\r\n        navigate('/');\r\n      } catch (err) {\r\n        console.log(`Error: ${err.message}`);\r\n      }\r\n    };\r\n\r\n    return (\r\n        <DataContext.Provider value={{\r\n            width, search, setSearch,\r\n            set\r\n        }}>\r\n            {Children}\r\n        </DataContext.Provider>\r\n    )\r\n}\r\n\r\nexport default DataContext"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}